<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sub Latihan - BeningFH</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
    /* Sub Latihan Page Styles */
    .sublatihan-section {
      min-height: 100vh;
      padding: 8rem 5% 4rem;
      background: #f8f9fa;
    }

    .breadcrumb {
      max-width: 1200px;
      margin: 0 auto 2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
      color: #666;
    }

    .breadcrumb a {
      color: #e0a75e;
      text-decoration: none;
      transition: 0.3s;
    }

    .breadcrumb a:hover {
      color: #c38c46;
    }

    .breadcrumb i {
      font-size: 0.7rem;
    }

    .sublatihan-header {
      max-width: 1200px;
      margin: 0 auto 3rem;
      background: white;
      padding: 2.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    }

    .header-top {
      display: flex;
      align-items: flex-start;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .header-icon {
      font-size: 4rem;
      flex-shrink: 0;
    }

    .header-content {
      flex: 1;
    }

    .header-content h1 {
      font-size: 2rem;
      font-weight: 700;
      color: #111;
      margin-bottom: 0.5rem;
    }

    .header-content p {
      color: #666;
      font-size: 1rem;
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }

    .header-meta {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .meta-badge {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      font-size: 0.9rem;
      color: #666;
    }

    .meta-badge i {
      color: #e0a75e;
    }

    .sublatihan-list {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      gap: 1.5rem;
    }

    .sublatihan-card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      padding: 2rem;
      transition: all 0.3s ease;
      display: flex;
      gap: 1.5rem;
      align-items: flex-start;
      border-left: 4px solid transparent;
    }

    .sublatihan-card:hover {
      transform: translateX(8px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.12);
      border-left-color: #e0a75e;
    }

    .sub-icon-box {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      flex-shrink: 0;
      background: linear-gradient(135deg, var(--icon-gradient-from), var(--icon-gradient-to));
    }

    .sub-number {
      position: absolute;
      top: -8px;
      right: -8px;
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, #e0a75e, #c38c46);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }

    .icon-wrapper {
      position: relative;
    }

    .sub-content {
      flex: 1;
    }

    .sub-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
      margin-bottom: 0.8rem;
      flex-wrap: wrap;
    }

    .sub-title-group {
      flex: 1;
      min-width: 250px;
    }

    .sub-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #111;
      margin-bottom: 0.5rem;
    }

    .sub-category {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.3rem 0.8rem;
      background: #f0f9ff;
      color: #0284c7;
      border-radius: 6px;
      font-size: 0.75rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Icon gradient colors mapping */
    .gradient-html5 { --icon-gradient-from: rgba(249, 115, 22, 0.2); --icon-gradient-to: rgba(248, 113, 113, 0.2); }
    .gradient-seo { --icon-gradient-from: rgba(139, 92, 246, 0.2); --icon-gradient-to: rgba(244, 114, 182, 0.2); }
    .gradient-text { --icon-gradient-from: rgba(59, 130, 246, 0.2); --icon-gradient-to: rgba(129, 140, 248, 0.2); }
    .gradient-font { --icon-gradient-from: rgba(34, 197, 94, 0.2); --icon-gradient-to: rgba(52, 211, 153, 0.2); }
    .gradient-format { --icon-gradient-from: rgba(234, 179, 8, 0.2); --icon-gradient-to: rgba(251, 146, 60, 0.2); }
    .gradient-animation { --icon-gradient-from: rgba(168, 85, 247, 0.2); --icon-gradient-to: rgba(244, 114, 182, 0.2); }
    .gradient-special { --icon-gradient-from: rgba(6, 182, 212, 0.2); --icon-gradient-to: rgba(96, 165, 250, 0.2); }
    .gradient-media { --icon-gradient-from: rgba(239, 68, 68, 0.2); --icon-gradient-to: rgba(244, 114, 182, 0.2); }
    .gradient-audio { --icon-gradient-from: rgba(236, 72, 153, 0.2); --icon-gradient-to: rgba(251, 113, 133, 0.2); }
    .gradient-image { --icon-gradient-from: rgba(99, 102, 241, 0.2); --icon-gradient-to: rgba(192, 132, 252, 0.2); }
    .gradient-interactive { --icon-gradient-from: rgba(20, 184, 166, 0.2); --icon-gradient-to: rgba(34, 211, 238, 0.2); }
    .gradient-video { --icon-gradient-from: rgba(245, 158, 11, 0.2); --icon-gradient-to: rgba(250, 204, 21, 0.2); }
    .gradient-advanced { --icon-gradient-from: rgba(217, 70, 239, 0.2); --icon-gradient-to: rgba(244, 114, 182, 0.2); }
    .gradient-navigation { --icon-gradient-from: rgba(16, 185, 129, 0.2); --icon-gradient-to: rgba(74, 222, 128, 0.2); }
    .gradient-list { --icon-gradient-from: rgba(14, 165, 233, 0.2); --icon-gradient-to: rgba(96, 165, 250, 0.2); }
    .gradient-table { --icon-gradient-from: rgba(132, 204, 22, 0.2); --icon-gradient-to: rgba(74, 222, 128, 0.2); }
    .gradient-form { --icon-gradient-from: rgba(239, 68, 68, 0.2); --icon-gradient-to: rgba(251, 113, 133, 0.2); }
    .gradient-layout { --icon-gradient-from: rgba(99, 102, 241, 0.2); --icon-gradient-to: rgba(192, 132, 252, 0.2); }
    .gradient-content { --icon-gradient-from: rgba(34, 197, 94, 0.2); --icon-gradient-to: rgba(52, 211, 153, 0.2); }
    .gradient-embed { --icon-gradient-from: rgba(20, 184, 166, 0.2); --icon-gradient-to: rgba(34, 211, 238, 0.2); }
    .gradient-styling { --icon-gradient-from: rgba(236, 72, 153, 0.2); --icon-gradient-to: rgba(251, 113, 133, 0.2); }
    .gradient-semantic { --icon-gradient-from: rgba(245, 158, 11, 0.2); --icon-gradient-to: rgba(251, 191, 36, 0.2); }
    .gradient-background { --icon-gradient-from: rgba(168, 85, 247, 0.2); --icon-gradient-to: rgba(244, 114, 182, 0.2); }
    .gradient-alignment { --icon-gradient-from: rgba(59, 130, 246, 0.2); --icon-gradient-to: rgba(129, 140, 248, 0.2); }
    .gradient-selector { --icon-gradient-from: rgba(234, 179, 8, 0.2); --icon-gradient-to: rgba(251, 146, 60, 0.2); }
    .gradient-external { --icon-gradient-from: rgba(6, 182, 212, 0.2); --icon-gradient-to: rgba(96, 165, 250, 0.2); }
    .gradient-organization { --icon-gradient-from: rgba(139, 92, 246, 0.2); --icon-gradient-to: rgba(192, 132, 252, 0.2); }
    .gradient-container { --icon-gradient-from: rgba(245, 158, 11, 0.2); --icon-gradient-to: rgba(250, 204, 21, 0.2); }
    .gradient-inline { --icon-gradient-from: rgba(16, 185, 129, 0.2); --icon-gradient-to: rgba(74, 222, 128, 0.2); }
    .gradient-output { --icon-gradient-from: rgba(234, 179, 8, 0.2); --icon-gradient-to: rgba(251, 146, 60, 0.2); }
    .gradient-math { --icon-gradient-from: rgba(14, 165, 233, 0.2); --icon-gradient-to: rgba(96, 165, 250, 0.2); }
    .gradient-variable { --icon-gradient-from: rgba(99, 102, 241, 0.2); --icon-gradient-to: rgba(192, 132, 252, 0.2); }
    .gradient-dialog { --icon-gradient-from: rgba(16, 185, 129, 0.2); --icon-gradient-to: rgba(74, 222, 128, 0.2); }
    .gradient-event { --icon-gradient-from: rgba(236, 72, 153, 0.2); --icon-gradient-to: rgba(251, 113, 133, 0.2); }
    .gradient-input { --icon-gradient-from: rgba(168, 85, 247, 0.2); --icon-gradient-to: rgba(244, 114, 182, 0.2); }
    .gradient-loop { --icon-gradient-from: rgba(6, 182, 212, 0.2); --icon-gradient-to: rgba(96, 165, 250, 0.2); }
    .gradient-operator { --icon-gradient-from: rgba(239, 68, 68, 0.2); --icon-gradient-to: rgba(248, 113, 113, 0.2); }
    .gradient-assignment { --icon-gradient-from: rgba(234, 179, 8, 0.2); --icon-gradient-to: rgba(251, 146, 60, 0.2); }
    .gradient-comparison { --icon-gradient-from: rgba(132, 204, 22, 0.2); --icon-gradient-to: rgba(74, 222, 128, 0.2); }
    .gradient-logic { --icon-gradient-from: rgba(99, 102, 241, 0.2); --icon-gradient-to: rgba(192, 132, 252, 0.2); }
    .gradient-string { --icon-gradient-from: rgba(236, 72, 153, 0.2); --icon-gradient-to: rgba(251, 113, 133, 0.2); }
    .gradient-type { --icon-gradient-from: rgba(20, 184, 166, 0.2); --icon-gradient-to: rgba(34, 211, 238, 0.2); }
    .gradient-conditional { --icon-gradient-from: rgba(245, 158, 11, 0.2); --icon-gradient-to: rgba(250, 204, 21, 0.2); }
    .gradient-array { --icon-gradient-from: rgba(132, 204, 22, 0.2); --icon-gradient-to: rgba(74, 222, 128, 0.2); }
    .gradient-function { --icon-gradient-from: rgba(14, 165, 233, 0.2); --icon-gradient-to: rgba(96, 165, 250, 0.2); }
    .gradient-project { --icon-gradient-from: rgba(217, 70, 239, 0.2); --icon-gradient-to: rgba(244, 114, 182, 0.2); }

    .sub-status {
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-shrink: 0;
    }

    .status-selesai {
      background: #d4edda;
      color: #155724;
    }

    .status-proses {
      background: #fff3cd;
      color: #856404;
    }

    .sub-description {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.7;
      margin-bottom: 1.2rem;
    }

    .sub-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.7rem 1.5rem;
      background: #e0a75e;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 500;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .sub-link:hover {
      background: #c38c46;
      gap: 0.8rem;
    }

    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .empty-state i {
      font-size: 5rem;
      color: #ddd;
      margin-bottom: 1.5rem;
    }

    .empty-state h3 {
      font-size: 1.5rem;
      color: #666;
      margin-bottom: 1rem;
    }

    .empty-state p {
      color: #888;
      margin-bottom: 2rem;
    }

    .btn-back {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.8rem 1.5rem;
      background: #e0a75e;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 500;
      transition: 0.3s;
    }

    .btn-back:hover {
      background: #c38c46;
    }

    @media (max-width: 768px) {
      .sublatihan-section {
        padding: 6rem 3% 3rem;
      }

      .sublatihan-header {
        padding: 1.5rem;
      }

      .header-top {
        flex-direction: column;
        text-align: center;
      }

      .header-content h1 {
        font-size: 1.5rem;
      }

      .header-meta {
        justify-content: center;
        gap: 1rem;
      }

      .sublatihan-card {
        flex-direction: column;
        padding: 1.5rem;
      }

      .sub-header {
        flex-direction: column;
      }

      .sub-number {
        width: 40px;
        height: 40px;
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">BeningFH</div>
    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="gallery.html">Gallery</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li class="dropdown">
        <a href="#" id="dropdownToggle">
          Tugas <i class="fas fa-chevron-down"></i>
        </a>
        <ul class="dropdown-menu" id="dropdownMenu"></ul>
      </li>
    </ul>
    <div class="menu-toggle" id="menuToggle">
      <i class="fas fa-bars"></i>
    </div>
  </nav>

  <!-- Sub Latihan Section -->
  <section class="sublatihan-section">
    <!-- Breadcrumb -->
    <div class="breadcrumb">
      <a href="index.html">Home</a>
      <i class="fas fa-chevron-right"></i>
      <a href="latihan.html">Latihan</a>
      <i class="fas fa-chevron-right"></i>
      <span id="breadcrumbTitle">...</span>
    </div>

    <!-- Header -->
    <div class="sublatihan-header" id="sublatihanHeader"></div>

    <!-- Sub Latihan List -->
    <div class="sublatihan-list" id="sublatihanList"></div>
  </section>

  <script src="latihan-data.js"></script>
  <script>
    // Navbar Toggle
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');
    const dropdownToggle = document.getElementById('dropdownToggle');
    const dropdownMenu = document.getElementById('dropdownMenu');

    menuToggle.addEventListener('click', () => {
      navLinks.classList.toggle('show');
    });

    dropdownToggle.addEventListener('click', (e) => {
      e.preventDefault();
      dropdownMenu.classList.toggle('show');
    });

    // Populate Dropdown Menu
    function populateDropdown() {
      const allLatihan = getAllLatihan();
      dropdownMenu.innerHTML = '';
      allLatihan.forEach(latihan => {
        const li = document.createElement('li');
        li.innerHTML = `<a href="sublatihan.html?id=${latihan.id}">${latihan.icon} ${latihan.title}</a>`;
        dropdownMenu.appendChild(li);
      });
    }

    // Get ID from URL
    function getIdFromUrl() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('id');
    }

    // Render Header
    function renderHeader(latihan) {
      const header = document.getElementById('sublatihanHeader');
      const breadcrumb = document.getElementById('breadcrumbTitle');
      
      breadcrumb.textContent = latihan.title;
      
      const selesai = latihan.subLatihan.filter(sub => sub.status === 'selesai').length;
      const progress = Math.round((selesai / latihan.totalSub) * 100);
      
      header.innerHTML = `
        <div class="header-top">
          <div class="header-icon">${latihan.icon}</div>
          <div class="header-content">
            <h1>${latihan.title}</h1>
            <p>${latihan.description}</p>
            <div class="header-meta">
              <div class="meta-badge">
                <i class="far fa-calendar"></i>
                Minggu ${latihan.minggu}
              </div>
              <div class="meta-badge">
                <i class="far fa-clock"></i>
                ${latihan.duration}
              </div>
              <div class="meta-badge">
                <i class="fas fa-tasks"></i>
                ${selesai}/${latihan.totalSub} Selesai
              </div>
              <div class="meta-badge">
                <i class="fas fa-chart-line"></i>
                ${progress}% Progress
              </div>
            </div>
          </div>
        </div>
      `;
    }

    // Category gradient mapping
    const categoryGradients = {
      'HTML5': 'gradient-html5',
      'SEO': 'gradient-seo',
      'Text': 'gradient-text',
      'Font': 'gradient-font',
      'Format': 'gradient-format',
      'Animation': 'gradient-animation',
      'Special': 'gradient-special',
      'Media': 'gradient-media',
      'Audio': 'gradient-audio',
      'Image': 'gradient-image',
      'Interactive': 'gradient-interactive',
      'Video': 'gradient-video',
      'Advanced': 'gradient-advanced',
      'Navigation': 'gradient-navigation',
      'List': 'gradient-list',
      'Table': 'gradient-table',
      'Form': 'gradient-form',
      'Layout': 'gradient-layout',
      'Content': 'gradient-content',
      'Embed': 'gradient-embed',
      'Styling': 'gradient-styling',
      'Semantic': 'gradient-semantic',
      'Background': 'gradient-background',
      'Alignment': 'gradient-alignment',
      'Selector': 'gradient-selector',
      'External': 'gradient-external',
      'Organization': 'gradient-organization',
      'Container': 'gradient-container',
      'Inline': 'gradient-inline',
      'Output': 'gradient-output',
      'Math': 'gradient-math',
      'Variable': 'gradient-variable',
      'Dialog': 'gradient-dialog',
      'Event': 'gradient-event',
      'Input': 'gradient-input',
      'Loop': 'gradient-loop',
      'Operator': 'gradient-operator',
      'Assignment': 'gradient-assignment',
      'Comparison': 'gradient-comparison',
      'Logic': 'gradient-logic',
      'String': 'gradient-string',
      'Type': 'gradient-type',
      'Conditional': 'gradient-conditional',
      'Array': 'gradient-array',
      'Function': 'gradient-function',
      'Project': 'gradient-project'
    };

    // Render Sub Latihan List
    function renderSubLatihan(latihan) {
      const list = document.getElementById('sublatihanList');
      
      if (!latihan.subLatihan || latihan.subLatihan.length === 0) {
        list.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-folder-open"></i>
            <h3>Belum Ada Sub Latihan</h3>
            <p>Sub latihan untuk topik ini akan segera ditambahkan</p>
            <a href="latihan.html" class="btn-back">
              <i class="fas fa-arrow-left"></i> Kembali ke Daftar Latihan
            </a>
          </div>
        `;
        return;
      }
      
      list.innerHTML = '';
      
      latihan.subLatihan.forEach((sub, index) => {
        const card = document.createElement('div');
        card.className = 'sublatihan-card';
        
        const statusClass = sub.status === 'selesai' ? 'status-selesai' : 'status-proses';
        const statusIcon = sub.status === 'selesai' ? 'fa-check-circle' : 'fa-spinner';
        const statusText = sub.status === 'selesai' ? 'Selesai' : 'Dalam Proses';
        const gradientClass = categoryGradients[sub.category] || 'gradient-html5';
        
        card.innerHTML = `
          <div class="icon-wrapper">
            <div class="sub-icon-box ${gradientClass}">
              <i class="fas ${sub.icon}"></i>
            </div>
            <div class="sub-number">${index + 1}</div>
          </div>
          <div class="sub-content">
            <div class="sub-header">
              <div class="sub-title-group">
                <h3 class="sub-title">${sub.title}</h3>
                <span class="sub-category">
                  <i class="fas ${sub.icon}"></i>
                  ${sub.category}
                </span>
              </div>
              <div class="sub-status ${statusClass}">
                <i class="fas ${statusIcon}"></i>
                ${statusText}
              </div>
            </div>
            <p class="sub-description">${sub.description}</p>
            <a href="${sub.link}" class="sub-link" target="_blank">
              <i class="fas fa-external-link-alt"></i>
              Buka Latihan
            </a>
          </div>
        `;
        
        list.appendChild(card);
      });
    }

    // Initialize
    populateDropdown();
    
    const latihanId = getIdFromUrl();
    
    if (latihanId) {
      const latihan = getLatihanById(parseInt(latihanId));
      
      if (latihan) {
        renderHeader(latihan);
        renderSubLatihan(latihan);
      } else {
        document.getElementById('sublatihanList').innerHTML = `
          <div class="empty-state">
            <i class="fas fa-exclamation-triangle"></i>
            <h3>Latihan Tidak Ditemukan</h3>
            <p>Latihan dengan ID tersebut tidak tersedia</p>
            <a href="latihan.html" class="btn-back">
              <i class="fas fa-arrow-left"></i> Kembali ke Daftar Latihan
            </a>
          </div>
        `;
      }
    } else {
      window.location.href = 'latihan.html';
    }
  </script>
</body>
</html>